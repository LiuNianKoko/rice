(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-applysale"],{"1b14":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.boxsizing[data-v-29294d1b]{-webkit-box-sizing:border-box;box-sizing:border-box}.left[data-v-29294d1b]{float:left}.right[data-v-29294d1b]{float:right}.disflex[data-v-29294d1b]{display:-webkit-box;display:-webkit-flex;display:flex}.flxe-1[data-v-29294d1b]{-webkit-box-flex:1;-webkit-flex:1;flex:1}\r\n/*【处理移动端1px线条粗的问题】*/.border_top[data-v-29294d1b],\r\n.border_bottom[data-v-29294d1b],\r\n.border_left[data-v-29294d1b],\r\n.border_right[data-v-29294d1b],\r\n.border_tb[data-v-29294d1b],\r\n.border[data-v-29294d1b]{position:relative}.border_top[data-v-29294d1b]:after,\r\n.border_bottom[data-v-29294d1b]:after,\r\n.border_left[data-v-29294d1b]:after,\r\n.border_right[data-v-29294d1b]:after,\r\n.border_tb[data-v-29294d1b]:after,\r\n.border[data-v-29294d1b]:after{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform-origin:0 0;-webkit-transform:scale(1);pointer-events:none;z-index:2}.border_left[data-v-29294d1b]:after{border-left:1px solid #e8e8e8}.border_right[data-v-29294d1b]:after{border-right:1px solid #e8e8e8}.border_top[data-v-29294d1b]:after{border-top:1px solid #e8e8e8}.border_bottom[data-v-29294d1b]:after{border-bottom:1px solid #e8e8e8}.border_tb[data-v-29294d1b]:after{border-top:1px solid #e8e8e8;border-bottom:1px solid #e8e8e8}.border[data-v-29294d1b]:after{border:1px solid #e8e8e8}@media screen and (-webkit-min-device-pixel-ratio:1.5){.border_top[data-v-29294d1b]:after,\r\n  .border_bottom[data-v-29294d1b]:after,\r\n  .border_left[data-v-29294d1b]:after,\r\n  .border_right[data-v-29294d1b]:after,\r\n  .border_tb[data-v-29294d1b]:after,\r\n  .border[data-v-29294d1b]:after{right:-100%;bottom:-100%;-webkit-transform:scale(.5)}}\r\n/*end【处理移动端1px线条粗的问题】*/uni-page-body[data-v-29294d1b]{background-color:#f2f2f5}.pay-ffooter[data-v-29294d1b]{position:fixed;bottom:0;left:0;z-index:999;background-color:#fb4142;height:%?100?%;line-height:%?100?%;width:100%;-webkit-box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1);box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1);font-size:%?32?%;color:#fff;text-align:center}.pingz-wrap[data-v-29294d1b]{background-color:#fff;margin-top:%?20?%;padding:%?28?%;margin-bottom:%?80?%}.pingz-wrap .pztitle[data-v-29294d1b]{margin-bottom:%?20?%}.up-content .grapy-item .pz-img[data-v-29294d1b]{margin-right:%?20?%}.up-content .grapy-item uni-image[data-v-29294d1b]{width:%?120?%;height:%?120?%}.up-content .upbtn[data-v-29294d1b]{width:%?120?%;height:%?120?%;border:1px dashed #aaa;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.up-content .upbtn uni-image[data-v-29294d1b]{width:%?36?%;height:%?32?%;margin-top:%?9?%}.up-content .upbtn .bti[data-v-29294d1b]{color:#aaa;font-size:%?11?%;text-align:center;-webkit-transform:scale(.75);transform:scale(.75)}.applysale[data-v-29294d1b]{padding:%?30?%}.tuikjine[data-v-29294d1b]{color:#ec614a;font-size:%?28?%;margin-left:%?20?%}.tuikipt[data-v-29294d1b]{height:%?70?%;padding-left:%?20?%;margin-top:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box}.pay-text[data-v-29294d1b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-border-radius:5px;border-radius:5px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?32?%;background-color:#fff;padding:%?24?%}.pay-text .text-img uni-image[data-v-29294d1b]{width:%?180?%;height:%?180?%}.pay-text .text-intr[data-v-29294d1b]{width:%?240?%;margin-left:%?-100?%;position:relative}.pay-text .text-intr .intr-name[data-v-29294d1b]{font-size:%?32?%}.pay-text .text-intr .intr-norm[data-v-29294d1b]{color:#aaa;margin-top:%?-4?%}.pay-text .text-intr .intr-norm .intr-norm1[data-v-29294d1b]{font-size:%?24?%}.pay-text .text-intr .intr-norm .intr-norm2[data-v-29294d1b]{font-size:%?24?%}.pay-text .text-price .text-num[data-v-29294d1b]{font-size:%?26?%;color:#aaa;text-align:right;letter-spacing:%?5?%}.pay-text .text-prices[data-v-29294d1b]{color:#ec614a;position:absolute;left:0;bottom:0}.borfive[data-v-29294d1b]{margin-top:%?30?%}.borfiveborder[data-v-29294d1b]{-webkit-border-radius:5px;border-radius:5px}.borfivtop[data-v-29294d1b]{-webkit-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.borfivbottom[data-v-29294d1b]{-webkit-border-radius:0 0 7px 7px;border-radius:0 0 7px 7px}.felie-item[data-v-29294d1b]{height:%?100?%;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:%?100?%;background-color:#fff;padding:0 %?30?%}.felie-item .bti[data-v-29294d1b]{font-size:%?28?%;color:#000}.felie-item .txtjt[data-v-29294d1b]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?28?%;color:#aaa}.felie-item .huijt[data-v-29294d1b]{width:%?36?%;height:%?36?%;vertical-align:bottom}.felie-item .huijt.arrow[data-v-29294d1b]{width:%?28?%;height:%?28?%;margin-left:%?10?%}body.?%PAGE?%[data-v-29294d1b]{background-color:#f2f2f5}',""]),t.exports=e},"20c6":function(t,e,i){"use strict";i.r(e);var n=i("44cb"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"3f1f":function(t,e,i){"use strict";var n=i("7d39"),o=i.n(n);o.a},"44cb":function(t,e,i){"use strict";var n=i("4ea4");i("a15b"),i("d81d"),i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("a99e")),a=n(i("8cc3")),r={data:function(){return{tuiktype:1,orderid:"",orderinfo:{},uptoken:"",imgpathArr:[],imgpathArr2:[],refundReasonLists:[],refuseType:-1,hwuType:-1,refuseTxt:"",hwuTxt:"",explain:"",goods_id:""}},onLoad:function(t){this.getRefundReason(),this.orderid=t.orderid,this.goods_id=t.good_id,this.getorder(this.orderid),this.gettutoken()},methods:{putPinglun:function(){var t=this;try{if(!this.hwuTxt)throw"请选择货物状态";if(!this.refuseTxt)throw"请选择退款原因"}catch(i){return this.$util.showToast(i),!1}this.$util.showLoading("请稍后");var e={token:uni.getStorageSync("token"),type:this.tuiktype,goods_id:this.goods_id,order_id:this.orderid,reason:this.refuseTxt,explain:this.explain,money:this.orderinfo.totalprice,image:this.imgpathArr2.join(","),goods_status:this.hwuTxt};(0,a.default)("/api/AfterSale/serviceOrder","post",e).then((function(e){200==e.data.status?(t.$util.showToast(e.data.msg),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),2e3),t.$util.hideLoading()):t.$util.showToast(e.data.msg)}))},gettutoken:function(){var t=this,e={token:uni.getStorageSync("token")};(0,a.default)("/api/Setting/getQinToken","post",e).then((function(e){console.log(e.data.data.token),t.uptoken=e.data.data.token}))},getorder:function(t){var e=this,i={order_id:t,goods_order_id:this.goods_id,token:uni.getStorageSync("token")};this.$util.showLoading("请稍后"),(0,a.default)("/api/Order/orderInfo","post",i).then((function(t){e.orderinfo=t.data.data,console.log(e.orderinfo),e.$util.hideLoading()}))},getRefundReason:function(){var t=this,e={token:uni.getStorageSync("token")};(0,a.default)("/api/Aftersale/getRefundReason","get",e).then((function(e){t.refundReasonLists=e.data.data.refundReasonLists}))},didPressChooseImage:function(){var t=this;console.log(t.uptoken);uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(e){t.$util.showLoading("请稍后");var i=(new Date).getTime()+Math.random().toString(36).substr(2),n=e.tempFilePaths[0];console.log(n),t.imgpathArr.push(e.tempFilePaths[0]),console.log(t.imgpathArr),o.default.upload(n,(function(e){var i="/"+e.key;t.imgpathArr2.push(i),console.log(t.imgpathArr2),t.$util.hideLoading()}),(function(e){console.log("error: "+e),t.$util.showToast("图片上传超时"),t.$util.hideLoading()}),{key:i+".jpg",region:"SCN",domain:"clothpic.sayyin.com",uptoken:t.uptoken},(function(t){}),(function(){}),(function(){}),(function(t){}))}})},chagetuik:function(t){this.tuiktype=t},chagehwu:function(){var t=this;uni.showActionSheet({itemList:["已收到货物","未收到货物"],success:function(e){t.hwuType=e.tapIndex,t.hwuTxt=0==e.tapIndex?"已收到货物":"未收到货物"},fail:function(t){console.log(t.errMsg)}})},chagetuikse:function(){var t=this,e=[];t.refundReasonLists.map((function(t){e.push(t.content)})),uni.showActionSheet({itemList:e,success:function(e){t.refuseType=e.tapIndex,t.refuseTxt=t.refundReasonLists[e.tapIndex].content},fail:function(t){console.log(t.errMsg)}})}}};e.default=r},"7d39":function(t,e,i){var n=i("1b14");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("affdac9e",n,!0,{sourceMap:!1,shadowMode:!1})},"80ba":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"applysale"},[t._l(t.orderinfo.goods_data,(function(e,n){return i("v-uni-view",{key:n,staticClass:"pay-text"},[i("v-uni-view",{staticClass:"text-img"},[i("v-uni-image",{attrs:{src:e.cover}})],1),i("v-uni-view",{staticClass:"text-intr"},[i("v-uni-view",{staticClass:"intr-name line1"},[t._v(t._s(e.goods_name))]),i("v-uni-view",{staticClass:"intr-norm"},[i("v-uni-view",{staticClass:"intr-norm1 line1"},[t._v("规格:"+t._s(e.goods_attr_name))])],1),i("v-uni-view",{staticClass:"text-prices"},[i("v-uni-text",{staticStyle:{"font-size":"24upx"}},[t._v("￥")]),t._v(t._s(e.goods_price))],1)],1),i("v-uni-view",{staticClass:"text-price"},[i("v-uni-view",{staticClass:"text-num"},[t._v("x"+t._s(e.goods_num))])],1)],1)})),i("v-uni-view",{staticClass:"borfive"},[i("v-uni-view",{staticClass:" disflex felie-item boxsizing borfivtop border_bottom"},[i("v-uni-view",{staticClass:" bti"},[t._v("退货退款")]),i("v-uni-view",{staticClass:" txtjt"},[i("v-uni-image",{staticClass:"huijt",attrs:{src:1==t.tuiktype?"/static/select.png":"/static/unselect.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chagetuik(1)}}})],1)],1),i("v-uni-view",{staticClass:"disflex felie-item boxsizing borfivbottom"},[i("v-uni-view",{staticClass:" bti"},[t._v("仅退款")]),i("v-uni-view",{staticClass:" txtjt"},[i("v-uni-image",{staticClass:"huijt",attrs:{src:2==t.tuiktype?"/static/select.png":"/static/unselect.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chagetuik(2)}}})],1)],1)],1),i("v-uni-view",{staticClass:"borfive"},[i("v-uni-view",{staticClass:" disflex felie-item boxsizing borfivtop border_bottom"},[i("v-uni-view",{staticClass:" bti"},[t._v("货物状态")]),i("v-uni-view",{staticClass:" txtjt disflex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chagehwu.apply(void 0,arguments)}}},[t._v(t._s(t.hwuTxt||"请选择")),i("v-uni-image",{staticClass:"huijt arrow",attrs:{src:"/static/huijt.png",mode:""}})],1)],1),i("v-uni-view",{staticClass:" disflex felie-item boxsizing borfivbottom"},[i("v-uni-view",{staticClass:"bti"},[t._v("退款原因")]),i("v-uni-view",{staticClass:"txtjt disflex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chagetuikse.apply(void 0,arguments)}}},[t._v(t._s(t.refuseTxt||"请选择")),i("v-uni-image",{staticClass:"huijt arrow",attrs:{src:"/static/huijt.png",mode:""}})],1)],1)],1),i("v-uni-view",{staticClass:"borfive"},[i("v-uni-view",{staticClass:"felie-item disflex boxsizing borfivtop border_bottom",staticStyle:{"justify-content":"flex-start"}},[i("v-uni-view",{staticClass:" bti"},[t._v("退款金额")]),i("v-uni-view",{staticClass:"tuikjine"},[i("v-uni-text",{staticStyle:{"font-size":"24upx"}},[t._v("￥")]),t._v(t._s(t.orderinfo.goods_data[0].totalprice))],1)],1),i("v-uni-view",{staticClass:"felie-item disflex boxsizing borfivbottom",staticStyle:{"justify-content":"flex-start"}},[i("v-uni-view",{staticClass:" bti"},[t._v("退款说明")]),i("v-uni-view",{},[i("v-uni-input",{staticClass:"tuikipt",attrs:{type:"text",value:"",placeholder:"选填"},model:{value:t.explain,callback:function(e){t.explain=e},expression:"explain"}})],1)],1)],1),i("v-uni-view",{staticClass:"pingz-wrap"},[i("v-uni-view",{staticClass:"pztitle"},[t._v("上传凭证")]),i("v-uni-view",{staticClass:"up-content disflex"},[i("v-uni-view",{staticClass:"grapy-item disflex"},t._l(t.imgpathArr,(function(t,e){return i("v-uni-view",{key:e,staticClass:"pz-img"},[i("v-uni-image",{attrs:{src:t,mode:"aspectFill"}})],1)})),1),t.imgpathArr.length<3?i("v-uni-view",{staticClass:"upbtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.didPressChooseImage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/zhangh.png"}}),i("v-uni-view",{staticClass:"bti"},[t._v("上传凭证"),i("br"),t._v("(最多3张)")])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"pay-ffooter",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.putPinglun.apply(void 0,arguments)}}},[t._v("确认")])],2)},a=[]},"9b78":function(t,e,i){"use strict";i.r(e);var n=i("80ba"),o=i("20c6");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("3f1f");var r,s=i("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"29294d1b",null,!1,n["a"],r);e["default"]=d.exports},a99e:function(t,e,i){i("ac1f"),i("1276"),function(){var e={qiniuRegion:"",qiniuImageURLPrefix:"",qiniuUploadToken:"",qiniuUploadTokenURL:"",qiniuUploadTokenFunction:null,qiniuShouldUseQiniuFileName:!1};function i(t){e={qiniuRegion:"",qiniuImageURLPrefix:"",qiniuUploadToken:"",qiniuUploadTokenURL:"",qiniuUploadTokenFunction:null,qiniuShouldUseQiniuFileName:!1},n(t)}function n(t){t.region?e.qiniuRegion=t.region:console.error("qiniu uploader need your bucket region"),t.uptoken?e.qiniuUploadToken=t.uptoken:t.uptokenURL?e.qiniuUploadTokenURL=t.uptokenURL:t.uptokenFunc&&(e.qiniuUploadTokenFunction=t.uptokenFunc),t.domain&&(e.qiniuImageURLPrefix=t.domain),e.qiniuShouldUseQiniuFileName=t.shouldUseQiniuFileName}function o(t,i,o,s,d,u){if(null!=t)if(s&&n(s),e.qiniuUploadToken)a(t,i,o,s,d,u);else if(e.qiniuUploadTokenURL)r((function(){a(t,i,o,s,d,u)}));else{if(!e.qiniuUploadTokenFunction)return void console.error("qiniu uploader need one of [uptoken, uptokenURL, uptokenFunc]");if(e.qiniuUploadToken=e.qiniuUploadTokenFunction(),null==e.qiniuUploadToken&&e.qiniuUploadToken.length>0)return void console.error("qiniu UploadTokenFunction result is null, please check the return value");a(t,i,o,s,d,u)}else console.error("qiniu uploader need filePath to upload")}function a(t,i,n,o,a,r){if(console.log(111111111111),console.log(t),null==e.qiniuUploadToken&&e.qiniuUploadToken.length>0)console.error("qiniu UploadToken is null, please check the init config or networking");else{var d=s(e.qiniuRegion),u=t.split("//")[1];o&&o.key&&(u=o.key);var l={token:e.qiniuUploadToken};e.qiniuShouldUseQiniuFileName||(l["key"]=u);var c=wx.uploadFile({url:d,filePath:t,name:"file",formData:l,success:function(t){var o=t.data;try{var a=JSON.parse(o),r=e.qiniuImageURLPrefix+"/"+a.key;a.fileUrl=r,a.imageURL=r,i&&i(a)}catch(s){console.log("parse JSON failed, origin String is: "+o),n&&n(s)}},fail:function(t){console.error(t),n&&n(t)}});c.onProgressUpdate((function(t){a&&a(t)})),r&&r((function(){c.abort()}))}}function r(t){wx.request({url:e.qiniuUploadTokenURL,success:function(i){var n=i.data.uptoken;n&&n.length>0?(e.qiniuUploadToken=n,t&&t()):console.error("qiniuUploader cannot get your token, please check the uptokenURL or server")},fail:function(t){console.error("qiniu UploadToken is null, please check the init config or networking: "+t)}})}function s(t){var e=null;switch(t){case"ECN":e="https://up.qiniup.com";break;case"NCN":e="https://up-z1.qiniup.com";break;case"SCN":e="https://up-z2.qiniup.com";break;case"NA":e="https://up-na0.qiniup.com";break;case"ASG":e="https://up-as0.qiniup.com";break;default:console.error("please make the region is with one of [ECN, SCN, NCN, NA, ASG]")}return e}t.exports={init:i,upload:o}}()}}]);