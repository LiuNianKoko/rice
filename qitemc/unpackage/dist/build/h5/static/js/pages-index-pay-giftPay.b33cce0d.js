(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-pay-giftPay"],{"0941":function(t,e,a){"use strict";a.r(e);var i=a("b741"),o=a("4ab6");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("16f0");var s,c=a("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"d26ae3c4",null,!1,i["a"],s);e["default"]=r.exports},"16f0":function(t,e,a){"use strict";var i=a("2fea"),o=a.n(i);o.a},"2ef8":function(t,e,a){"use strict";a.r(e);var i=a("5667"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"2fea":function(t,e,a){var i=a("8b2c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("582ca4de",i,!0,{sourceMap:!1,shadowMode:!1})},"3fcd":function(t,e,a){"use strict";var i=a("78a6"),o=a.n(i);o.a},"4ab6":function(t,e,a){"use strict";a.r(e);var i=a("dca2"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"4c68":function(t,e,a){"use strict";a.r(e);var i=a("7af2"),o=a("2ef8");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("3fcd");var s,c=a("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"9a58a318",null,!1,i["a"],s);e["default"]=r.exports},5667:function(t,e,a){"use strict";var i=a("4ea4");a("d3b7"),a("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(a("8cc3"));var o=i(a("81c7")),n={components:{DigitalKeyboard:o.default},props:{payMoney:"",payTitle:"",source:""},data:function(){return{arr:["","","","","",""],code:"",codeLength:null,length:6,keyBoardSwitch:!0}},onLoad:function(){},methods:{closeModal:function(){this.$emit("closeModal")},showKeyboard:function(){this.codeLength=6==this.code.length?5:this.code.length,this.keyBoardSwitch=!0,console.log(this.source)},hiddenKeyboard:function(){this.keyBoardSwitch=!1,this.codeLength=null},closeKeyboard:function(t){console.log(t)},contToggle:function(t){var e=this,a=e.code.length;if(""===t)return e.code=e.code.substring(0,a-1),void(e.codeLength=e.code.length);e.codeLength=a+1,e.code+=t.toString(),e.length===a+1&&(e.keyBoardSwitch=!1,("1"==e.source||"2"==e.source)&&e.$emit("payCode",e.code))}}};e.default=n},"78a6":function(t,e,a){var i=a("7f53");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("361e79c0",i,!0,{sourceMap:!1,shadowMode:!1})},"7af2":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hiddenKeyboard.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"paymodal"},[a("v-uni-view",{staticClass:"content-item"},[a("v-uni-view",{staticClass:"jinebt"},[t._v(t._s(t.payTitle)),a("v-uni-view",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModal.apply(void 0,arguments)}}},[t._v("✕")])],1),a("v-uni-view",{staticClass:"jinec"},[t._v("￥ "+t._s(t.payMoney))]),a("v-uni-view",{staticClass:"fbti"},[t._v("请输入支付密码")]),a("v-uni-view",{staticClass:"input-row",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showKeyboard.apply(void 0,arguments)}}},t._l(t.arr,(function(e,i){return a("v-uni-view",{key:i,class:["item",{"item-active":t.codeLength==i}]},[t._v(t._s(t.code.charAt(i)))])})),1)],1),a("DigitalKeyboard",{attrs:{keyBoardSwitch:t.keyBoardSwitch,decimalPoint:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.contToggle.apply(void 0,arguments)},closeKeyboard:function(e){arguments[0]=e=t.$handleEvent(e),t.closeKeyboard.apply(void 0,arguments)}}})],1)],1)},n=[]},"7f53":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.boxsizing[data-v-9a58a318]{-webkit-box-sizing:border-box;box-sizing:border-box}.left[data-v-9a58a318]{float:left}.right[data-v-9a58a318]{float:right}.disflex[data-v-9a58a318]{display:-webkit-box;display:-webkit-flex;display:flex}.flxe-1[data-v-9a58a318]{-webkit-box-flex:1;-webkit-flex:1;flex:1}\r\n/*【处理移动端1px线条粗的问题】*/.border_top[data-v-9a58a318],\r\n.border_bottom[data-v-9a58a318],\r\n.border_left[data-v-9a58a318],\r\n.border_right[data-v-9a58a318],\r\n.border_tb[data-v-9a58a318],\r\n.border[data-v-9a58a318]{position:relative}.border_top[data-v-9a58a318]:after,\r\n.border_bottom[data-v-9a58a318]:after,\r\n.border_left[data-v-9a58a318]:after,\r\n.border_right[data-v-9a58a318]:after,\r\n.border_tb[data-v-9a58a318]:after,\r\n.border[data-v-9a58a318]:after{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform-origin:0 0;-webkit-transform:scale(1);pointer-events:none;z-index:2}.border_left[data-v-9a58a318]:after{border-left:1px solid #e8e8e8}.border_right[data-v-9a58a318]:after{border-right:1px solid #e8e8e8}.border_top[data-v-9a58a318]:after{border-top:1px solid #e8e8e8}.border_bottom[data-v-9a58a318]:after{border-bottom:1px solid #e8e8e8}.border_tb[data-v-9a58a318]:after{border-top:1px solid #e8e8e8;border-bottom:1px solid #e8e8e8}.border[data-v-9a58a318]:after{border:1px solid #e8e8e8}@media screen and (-webkit-min-device-pixel-ratio:1.5){.border_top[data-v-9a58a318]:after,\r\n  .border_bottom[data-v-9a58a318]:after,\r\n  .border_left[data-v-9a58a318]:after,\r\n  .border_right[data-v-9a58a318]:after,\r\n  .border_tb[data-v-9a58a318]:after,\r\n  .border[data-v-9a58a318]:after{right:-100%;bottom:-100%;-webkit-transform:scale(.5)}}\r\n/*end【处理移动端1px线条粗的问题】*/.paymodal[data-v-9a58a318]{position:fixed;top:0;left:0;height:100%;width:100%;z-index:49;background-color:rgba(0,0,0,.6)}.content-item[data-v-9a58a318]{position:fixed;width:80%;padding:%?30?%;background-color:#fff;-webkit-border-radius:6px;border-radius:6px;top:30%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.content-item .jinebt[data-v-9a58a318]{font-size:%?40?%;position:relative;color:#000;text-align:center;margin:0 0 %?20?% 0}.content-item .jinebt .close[data-v-9a58a318]{font-size:%?40?%;position:absolute;right:%?30?%;top:0}.content-item .jinec[data-v-9a58a318]{font-size:%?40?%;color:#000;text-align:center}.content-item .fbti[data-v-9a58a318]{font-size:%?32?%;text-align:center;color:#000;margin:%?20?% 0}uni-page-body[data-v-9a58a318], .content[data-v-9a58a318]{width:100vw;min-height:100vh;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}.input-row[data-v-9a58a318]{width:%?600?%;margin:0 auto;padding:%?30?% 0;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:24px;text-align:center}.input-row .item[data-v-9a58a318]{float:left;text-align:center;width:%?80?%;height:%?80?%;line-height:%?80?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin:0 %?10?%;border:1px solid #c8c8c8;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box}.input-row .item-active[data-v-9a58a318]{position:relative;border:1px solid #f4000a;-webkit-transform:scale(1.2);transform:scale(1.2);--webkit-transform:scale(1.2)}',""]),t.exports=e},"8b2c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-d26ae3c4]{background-color:#f2f2f5}.pay-wraps[data-v-d26ae3c4]{background-color:#f2f2f5;overflow-y:auto}.pay-main[data-v-d26ae3c4]{padding:%?30?%}.pay-main .pay-location[data-v-d26ae3c4]{height:%?200?%;background:#fff;-webkit-border-radius:%?20?%;border-radius:%?20?%;margin-bottom:%?26?%;padding:%?30?% %?25?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.pay-main .pay-location .location-img uni-image[data-v-d26ae3c4]{width:%?40?%;height:%?40?%}.pay-main .pay-location .location-main[data-v-d26ae3c4]{margin-left:%?-120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?120?%}.pay-main .pay-location .location-main .location-person[data-v-d26ae3c4]{font-size:%?32?%}.pay-main .pay-location .location-main .location-person .location-phone[data-v-d26ae3c4]{font-size:%?32?%;color:#aaa;margin-left:%?32?%}.pay-main .pay-location .location-main .location-text[data-v-d26ae3c4]{width:%?380?%;font-size:%?24?%}.pay-main .pay-location .location-main2[data-v-d26ae3c4]{margin-left:%?-120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?120?%;font-size:%?40?%}.pay-main .pay-location .location-edit uni-image[data-v-d26ae3c4]{width:%?26?%;height:%?26?%}.pay-main .pay-item[data-v-d26ae3c4]{background:#fff;-webkit-border-radius:%?20?%;border-radius:%?20?%;padding:%?40?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:%?40?%}.pay-main .pay-item .pay-title[data-v-d26ae3c4]{font-size:%?32?%;margin-bottom:%?40?%}.pay-main .pay-item .pay-text[data-v-d26ae3c4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?72?%}.pay-main .pay-item .pay-text .text-img uni-image[data-v-d26ae3c4]{width:%?180?%;height:%?180?%}.pay-main .pay-item .pay-text .text-intr[data-v-d26ae3c4]{width:%?240?%;margin-left:%?-30?%}.pay-main .pay-item .pay-text .text-intr .intr-name[data-v-d26ae3c4]{font-size:%?24?%}.pay-main .pay-item .pay-text .text-intr .intr-norm[data-v-d26ae3c4]{color:#aaa;margin-top:%?26?%}.pay-main .pay-item .pay-text .text-intr .intr-norm .intr-norm1[data-v-d26ae3c4]{font-size:%?24?%}.pay-main .pay-item .pay-text .text-intr .intr-norm .intr-norm2[data-v-d26ae3c4]{font-size:%?24?%}.pay-main .pay-item .pay-text .text-price[data-v-d26ae3c4]{color:#fb4142}.pay-main .pay-item .pay-text .text-price .text-num[data-v-d26ae3c4]{font-size:%?24?%;color:#aaa;text-align:right;letter-spacing:%?5?%}.pay-main .pay-item .pay-point uni-image[data-v-d26ae3c4]{width:%?36?%;height:%?36?%;position:absolute;right:%?2?%;top:%?16?%}.pay-main .pay-item .pay-card uni-image[data-v-d26ae3c4]{width:%?24?%;height:%?24?%;position:absolute;right:%?6?%;top:%?22?%}.pay-main .pay-item .pay-common[data-v-d26ae3c4]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?66?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.pay-main .pay-item .pay-common .pay-left-common[data-v-d26ae3c4]{font-size:%?24?%;-webkit-box-flex:0;-webkit-flex:0 %?180?%;flex:0 %?180?%}.pay-main .pay-item .pay-common .pay-right-common[data-v-d26ae3c4]{font-size:%?24?%;text-align:right;color:#aaa;margin-left:%?30?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.pay-main .pay-item .pay-common .pay-right-common uni-input[data-v-d26ae3c4]{font-size:%?24?%;margin-left:%?-80?%}.pay-main .pay-item .pay-common .pay-right-witch[data-v-d26ae3c4]{margin-right:%?60?%}.pay-main .pay-item .pay-subtotal[data-v-d26ae3c4]{margin-top:%?60?%;text-align:right}.pay-main .pay-item .pay-subtotal .subtotal-num[data-v-d26ae3c4]{font-size:%?24?%;color:#aaa}.pay-main .pay-item .pay-subtotal .subtotal-price[data-v-d26ae3c4]{color:#fb4142}.pay-footer[data-v-d26ae3c4]{position:fixed;bottom:0;left:0;z-index:30;background-color:#fff;height:%?100?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1);box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1)}.pay-footer .pay-text[data-v-d26ae3c4]{font-size:%?32?%;margin-right:%?38?%}.pay-footer .pay-text .pay-price[data-v-d26ae3c4]{font-size:%?32?%;color:red}.pay-footer .pay-btn[data-v-d26ae3c4]{width:%?200?%;height:%?78?%;background:#fb4142;-webkit-border-radius:%?39?%;border-radius:%?39?%;line-height:%?78?%;text-align:center;color:#fff;margin-right:%?30?%}.ticket[data-v-d26ae3c4]{width:%?750?%;height:%?900?%;background-color:#fff;-webkit-border-top-left-radius:%?10?%;border-top-left-radius:%?10?%;-webkit-border-top-right-radius:%?10?%;border-top-right-radius:%?10?%;position:relative}.ticket .ticket-main[data-v-d26ae3c4]{padding:%?40?%;padding-top:%?100?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;top:0;left:0;overflow-y:auto;height:%?800?%;width:100%}.ticket .ticket-main .ticket-title[data-v-d26ae3c4]{font-size:%?40?%;text-align:center;position:fixed;top:0;left:0;z-index:30;width:100%;height:%?100?%;line-height:%?100?%;background-color:#fff}.ticket .ticket-main .ticket-title .close-out[data-v-d26ae3c4]{position:absolute;right:%?40?%;top:%?34?%;width:%?30?%;height:%?30?%}.ticket .ticket-main .ticket-item[data-v-d26ae3c4]{margin-bottom:%?26?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ticket .ticket-main .ticket-item .ticket-space[data-v-d26ae3c4]{width:%?600?%;height:%?240?%;background:-webkit-gradient(linear,left top,right top,from(#fb4142),to(#ff6e4c));background:-webkit-linear-gradient(left,#fb4142,#ff6e4c);background:linear-gradient(90deg,#fb4142,#ff6e4c);-webkit-border-radius:%?10?%;border-radius:%?10?%;padding:%?20?% %?40?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ticket .ticket-main .ticket-item .ticket-space .ticket-price[data-v-d26ae3c4]{color:#fcf2b2;font-size:%?40?%}.ticket .ticket-main .ticket-item .ticket-space .ticket-price uni-text[data-v-d26ae3c4]{font-size:%?72?%}.ticket .ticket-main .ticket-item .ticket-space .ticket-intr[data-v-d26ae3c4]{color:#fcf2b2;font-size:%?24?%}.ticket .ticket-main .ticket-item .ticket-select[data-v-d26ae3c4]{position:relative}.ticket .ticket-main .ticket-item .ticket-select .select-img[data-v-d26ae3c4]{width:%?40?%;height:%?40?%;position:absolute;right:%?2?%;top:%?2?%}.symbol[data-v-d26ae3c4]{font-size:%?24?%}.sure-btn[data-v-d26ae3c4]{width:100%;height:%?100?%;background:#fb4142;position:fixed;bottom:0;left:0;z-index:30;font-size:%?40?%;color:#fff;line-height:%?100?%;text-align:center}.choosepay[data-v-d26ae3c4]{width:%?750?%;height:%?900?%;background-color:#fff;-webkit-border-top-left-radius:%?10?%;border-top-left-radius:%?10?%;-webkit-border-top-right-radius:%?10?%;border-top-right-radius:%?10?%;padding:%?40?%;padding-bottom:%?100?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.choosepay .choose-title[data-v-d26ae3c4]{height:%?50?%;font-size:%?40?%;text-align:center;line-height:%?50?%;position:relative}.choosepay .choose-title uni-image[data-v-d26ae3c4]{width:%?30?%;height:%?30?%;position:absolute;right:0;top:%?12?%}.choosepay .choose-price[data-v-d26ae3c4]{font-size:%?40?%;text-align:center;height:%?200?%;line-height:%?200?%}.choosepay .choose-price uni-text[data-v-d26ae3c4]{font-size:%?60?%}.choosepay .choose-item[data-v-d26ae3c4]{height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?2?% solid #f2f2f5}.choosepay .choose-item .choose-item-l[data-v-d26ae3c4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?24?%;color:#aaa}.choosepay .choose-item .choose-item-l uni-image[data-v-d26ae3c4]{width:%?56?%;height:%?56?%;margin-right:%?32?%}.choosepay .choose-item .choose-item-r .select-img[data-v-d26ae3c4]{width:%?40?%;height:%?40?%}.choosepay .choose-ye[data-v-d26ae3c4]{position:absolute;top:%?692?%;right:%?120?%;font-size:%?24?%}.choosepay .choose-ye .choose-ye-price[data-v-d26ae3c4]{color:#fb4142}.choosepay .choose-ye .choose-ye-price uni-text[data-v-d26ae3c4]{font-size:%?32?%}.success[data-v-d26ae3c4]{width:%?500?%;height:%?300?%;background-color:#fff;-webkit-border-radius:%?20?%;border-radius:%?20?%;padding:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-weight:700}.success uni-image[data-v-d26ae3c4]{width:%?56?%;height:%?56?%;margin-right:%?22?%}.nodata[data-v-d26ae3c4]{text-align:center;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#aaa;font-size:%?30?%}body.?%PAGE?%[data-v-d26ae3c4]{background-color:#f2f2f5}",""]),t.exports=e},b741:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"pay-wraps"},[a("v-uni-view",{staticClass:"pay-main"},[t.haveAddress?a("v-uni-view",{staticClass:"pay-location disFlex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddress.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"location-img"},[a("v-uni-image",{attrs:{src:"/static/location.png"}})],1),a("v-uni-view",{staticClass:"location-main"},[a("v-uni-view",{staticClass:"location-person"},[t._v(t._s(t.address.username)),a("v-uni-text",{staticClass:"location-phone"},[t._v(t._s(t.address.phone))])],1),a("v-uni-view",{staticClass:"location-text"},[t._v(t._s(t.address.address)+" "+t._s(t.address.detail_address))])],1),a("v-uni-view",{staticClass:"location-edit"},[a("v-uni-image",{attrs:{src:"/static/to-right.png"}})],1)],1):t._e(),t.haveAddress?t._e():a("v-uni-view",{staticClass:"pay-location disFlex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddress.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"location-img"},[a("v-uni-image",{attrs:{src:"/static/location.png"}})],1),a("v-uni-view",{staticClass:"location-main2"},[t._v("请选择地址")]),a("v-uni-view",{staticClass:"location-edit"},[a("v-uni-image",{attrs:{src:"/static/to-right.png"}})],1)],1),a("v-uni-view",{staticClass:"pay-item"},[a("v-uni-view",{staticClass:"pay-title"},[t._v("订单信息")]),t._l(t.payList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"pay-text"},[a("v-uni-view",{staticClass:"text-img"},[a("v-uni-image",{attrs:{src:e.cover}})],1),a("v-uni-view",{staticClass:"text-intr"},[a("v-uni-view",{staticClass:"intr-name line1"},[t._v(t._s(e.goods_name))]),e.norms_name?a("v-uni-view",{staticClass:"intr-norm"},[a("v-uni-view",{staticClass:"intr-norm1 line1"},[t._v(t._s(e.norms_name))]),a("v-uni-view",{staticClass:"intr-norm2"})],1):t._e()],1),a("v-uni-view",{staticClass:"text-price"},[a("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),t._v("0"),a("v-uni-view",{staticClass:"text-num"},[t._v("x"+t._s(e.number))])],1)],1)})),a("v-uni-view",{staticClass:"pay-fare pay-common"},[a("v-uni-view",{staticClass:"pay-left-common"},[t._v("运费")]),a("v-uni-view",{staticClass:"pay-right-common"},[t._v("总计 ￥0")])],1),a("v-uni-view",{staticClass:"pay-remarks pay-common"},[a("v-uni-view",{staticClass:"pay-left-common"},[t._v("备注")]),a("v-uni-view",{staticClass:"pay-right-common"},[a("v-uni-input",{attrs:{type:"text",placeholder:"选填，请先和商家协商一致"},model:{value:t.buycontent,callback:function(e){t.buycontent=e},expression:"buycontent"}})],1)],1),a("v-uni-view",{staticClass:"pay-subtotal"},[a("v-uni-text",{staticClass:"subtotal-num margingRight20"},[t._v("共"+t._s(t.num)+"件")]),a("v-uni-text",[t._v("小计：")]),a("v-uni-text",{staticClass:"subtotal-price"},[a("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),t._v("0")],1)],1)],2)],1),a("v-uni-view",{staticClass:"pay-footer"},[a("v-uni-view",{staticClass:"pay-text"},[t._v("实付金额："),a("v-uni-text",{staticClass:"pay-price"},[a("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),t._v("0")],1)],1),a("v-uni-view",{staticClass:"pay-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.giftpay.apply(void 0,arguments)}}},[t._v("支付订单")])],1),a("v-uni-view",{staticClass:"blank"}),a("QSPopup",{ref:"QSPopupTicket",attrs:{type:"fadeInUp"}},[a("v-uni-view",{staticClass:"ticket"},[t.cashList.length>0?a("v-uni-view",{staticClass:"ticket-main"},[a("v-uni-view",{staticClass:"ticket-title"},[t._v("优惠券"),a("v-uni-image",{staticClass:"close-out",attrs:{src:"/static/out.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hides("QSPopupTicket")}}})],1),t._l(t.cashList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"ticket-item"},[a("v-uni-view",{staticClass:"ticket-space"},[a("v-uni-view",{staticClass:"ticket-price"},[t._v("￥"),a("v-uni-text",[t._v(t._s(e.money))]),t._v("现金券")],1),a("v-uni-text",{staticClass:"ticket-intr"},[t._v("订单金额满 "+t._s(e.at_least)+" 可使用  \\n  有效期"+t._s(e.start_time)+" -- "+t._s(e.end_time))])],1),a("v-uni-view",{staticClass:"ticket-select"},[e.checked?a("v-uni-image",{staticClass:"select-img",attrs:{src:t.selectImg},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectedCash(e,i)}}}):a("v-uni-image",{staticClass:"select-img",attrs:{src:t.unSelectImg},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectedCash(e,i)}}})],1)],1)}))],2):a("v-uni-view",{staticClass:"nodata"},[t._v("暂无优惠券~")]),a("v-uni-view",{staticClass:"sure-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCash.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),a("QSPopup",{ref:"QSPopupChoose",attrs:{type:"fadeInUp"}},[a("v-uni-view",{staticClass:"choosepay"},[a("v-uni-view",{staticClass:"choose-title"},[t._v("支付订单"),a("v-uni-image",{attrs:{src:"/static/out.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hides("QSPopupChoose")}}})],1),a("v-uni-view",{staticClass:"choose-price"},[t._v("￥"),a("v-uni-text",[t._v(t._s(t.totalMoney))])],1),t._l(t.chooseList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"choose-item"},[a("v-uni-view",{staticClass:"choose-item-l"},[a("v-uni-image",{attrs:{src:e.src}}),t._v(t._s(e.name))],1),a("v-uni-view",{staticClass:"choose-item-r"},[a("v-uni-image",{staticClass:"select-img",attrs:{src:e.checked?t.selectImg:t.unSelectImg},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.choose(e,i)}}})],1)],1)})),a("v-uni-view",{staticClass:"choose-ye "},[t._v("余额剩余"),a("v-uni-text",{staticClass:"choose-ye-price"},[t._v("￥"),a("v-uni-text",[t._v(t._s(t.balances))])],1)],1),a("v-uni-view",{staticClass:"sure-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.putorder.apply(void 0,arguments)}}},[t._v("确认支付")])],2)],1),a("QSPopup",{ref:"QSPopupSuccess"},[a("v-uni-view",{staticClass:"success"},[a("v-uni-image",{attrs:{src:"/static/pay-success.png"}}),t._v("支付成功")],1)],1),t.isPay?a("KeyboardPay",{attrs:{payMoney:t.totalMoney,payTitle:t.cashTitle,source:t.source},on:{payCode:function(e){arguments[0]=e=t.$handleEvent(e),t.getPayCode.apply(void 0,arguments)},closeModal:function(e){arguments[0]=e=t.$handleEvent(e),t.closePayModal.apply(void 0,arguments)}}}):t._e()],1)},n=[]},dca2:function(t,e,a){"use strict";var i=a("4ea4");a("4160"),a("d81d"),a("b680"),a("acd8"),a("e25e"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("8cc3")),n=i(a("8af5")),s=i(a("4c68")),c={components:{KeyboardPay:s.default,QSPopup:n.default},data:function(){return{payType:1,pointSelect:!1,chooseList:[{name:"微信支付",src:"/static/wx.png",type:1},{name:"支付宝支付",src:"/static/zfb.png",type:2},{name:"银联云闪付",src:"/static/ysf.png",type:3},{name:"余额支付",src:"/static/ye.png",type:4}],selectImg:"/static/select.png",unSelectImg:"/static/unselect.png",payList:[],goodsId:0,normsId:0,num:0,totalMoney:0,types:0,address:{},addressId:0,haveAddress:!1,balances:0,isSetPay:0,isPay:!1,cashTitle:"余额支付",source:"2",couponId:0,cashList:[],cashMoney:0,totalFreight:0,member:"",istequan:"",tequan:1,carType:0,buycontent:""}},onLoad:function(t){console.log(t);var e=this.$util.getStorage("giftOrderdata");this.types=e.type,t.addressid&&(this.addressId=t.addressid),this.chooseSel(),this.getPayList(),this.getAddress(),this.getCash()},onShow:function(){this.getAddress(),this.getPayList(),this.getCash()},methods:{closePayModal:function(){this.isPay=!1},giftpay:function(){var t=this,e=[];if(this.payList.forEach((function(t,a){e.push({goods_id:t.id,attr_id:t.sku_id,number:1,car_type:t.car_type})})),!this.addressId)return this.$util.showToast("请选择地址!"),!1;var a={token:uni.getStorageSync("token"),type:this.types,data:JSON.stringify(e),address_id:this.addressId,order_type:8,buycontent:this.buycontent};(0,o.default)("/api/order/payGiftGoods","post",a).then((function(e){"200"==e.data.status?(t.show("QSPopupSuccess"),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1500)):t.$util.showToast(e.data.msg)}))},useCard:function(){"member"!=this.member?""==this.member&&this.show("QSPopupTicket"):this.$util.showToast("会员商品不支持使用优惠券")},getCash:function(){var t=this,e={token:uni.getStorageSync("token")};(0,o.default)("/api/User/getCouponList","get",e).then((function(e){"200"==e.data.status?(t.cashList=e.data.data.couponList,console.log(e)):t.$util.showToast(e.data.message)}))},hideCash:function(){this.hides("QSPopupTicket")},selectedCash:function(t,e){var a=this,i=a.cashList.map((function(t,i){return t.checked=!1,e==i&&(a.couponId=t.coupon_id,a.cashMoney=parseFloat(t.money),t.checked=!0),t}));a.cashList=i,a.getPayList()},getPayCode:function(t){var e=this,a=[];this.payList.forEach((function(t,e){a.push({goods_id:t.id,attr_id:t.sku_id,number:t.number,car_type:t.car_type})}));var i=["WeChat","Alipay","cloudFlash","balance"];if(!this.addressId)return this.$util.showToast("请选择地址!"),!1;console.log(this.couponId);var n={token:uni.getStorageSync("token"),type:this.types,data:JSON.stringify(a),payment_type:i[this.payType-1],address_id:this.addressId,payment_password:t,order_type:this.tequan,coupon_id:this.couponId,buycontent:this.buycontent};(0,o.default)("/api/Order/place_order","post",n).then((function(t){"200"==t.data.status?(e.closePayModal(),e.show("QSPopupSuccess"),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1500)):(e.$util.showToast(t.data.msg),e.closePayModal()),console.log(t)}))},putorder:function(){var t=this,e=this,a=[];e.payList.forEach((function(t,e){a.push({goods_id:t.id,attr_id:t.sku_id,number:t.number,car_type:t.car_type})}));var i=["WeChat","Alipay","cloudFlash","balance"];if(!this.addressId)return this.$util.showToast("请选择地址!"),!1;if(console.log(i[this.payType-1]),1==this.payType||2==this.payType){var n={token:uni.getStorageSync("token"),type:this.types,data:JSON.stringify(a),payment_type:i[this.payType-1],address_id:this.addressId,order_type:this.tequan,coupon_id:this.couponId,buycontent:this.buycontent};(0,o.default)("/api/Order/place_order","post",n).then((function(e){"200"==e.data.status?(t.jumpPay(e.data.data.payment),t.$util.showLoading("加载中"),console.log(e)):t.$util.showToast(e.data.msg)}))}else{if(3==this.payType)return void this.$util.showToast("暂未开通此支付方式");if(4==this.payType){if(0==this.isSetPay)return void this.$util.showToast("请先设置支付密码");1==this.isSetPay&&(this.hides("QSPopupChoose"),this.isPay=!0)}}},jumpPay:function(t){var e=this;console.log(t),1==this.payType?(console.log(1),uni.requestPayment({provider:"wxpay",orderInfo:{appid:t.appid,noncestr:t.nonce_str,package:t.package,partnerid:t.partnerid,prepayid:t.prepay_id,timestamp:parseInt(t.time),sign:t.sign},appid:t.appid,noncestr:t.nonce_str,package:t.package,partnerid:t.partnerid,prepayid:t.prepay_id,timestamp:parseInt(t.time),sign:t.sign,success:function(t){e.$util.hideLoading(),e.show("QSPopupSuccess"),e.hides("QSPopupChoose"),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1500)},fail:function(t){console.log(111),console.log(t),e.$util.hideLoading(),e.$util.showToast("支付失败!")},complete:function(){}})):2==this.payType&&(console.log(t),uni.requestPayment({provider:"alipay",orderInfo:t,success:function(t){e.$util.hideLoading(),e.$util.showToast("支付成功!"),e.show("QSPopupSuccess"),e.hides("QSPopupChoose"),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1500)},fail:function(t){console.log(t),e.$util.hideLoading(),e.$util.showToast("支付失败!")},complete:function(){}}))},getAddress:function(){var t=this,e={token:uni.getStorageSync("token"),address_id:this.addressId};(0,o.default)("/api/user/getUserAddress","post",e).then((function(e){"200"==e.data.status&&(t.address=e.data.data.address,t.addressId=e.data.data.address.id,t.balances=e.data.data.user.balance,t.isSetPay=e.data.data.user.is_payment_pass),null==t.address?t.haveAddress=!1:t.haveAddress=!0,console.log(e)}))},show:function(t){this.$refs[t].show()},hides:function(t){this.$refs[t].hide()},pointSelectTap:function(){this.pointSelect=!1,this.$util.showToast("暂不支持使用积分")},getPayList:function(){var t=this,e=t.$util.getStorage("giftOrderdata");console.log(t.$util.getStorage("giftOrderdata")),(0,o.default)("/api/Order/create_order","post",e).then((function(e){console.log(e),t.payList=e.data.data.goods,t.totalFreight=e.data.data.total_freight,t.totalMoney=0,t.num=0;var a=0;t.payList.forEach((function(e,i){a+=parseFloat(e.number)*(100*parseFloat(e.price))/100,t.totalMoney=(a+t.totalFreight-t.cashMoney).toFixed(2),t.num+=parseInt(e.number),e.car_type||t.$set(e,"car_type",t.carType)}))}))},choose:function(t,e){var a=this,i=this,o=i.chooseList.map((function(t,i){return t.checked=!1,e==i&&(a.payType=t.type,t.checked=!0),t}));i.chooseList=o},chooseSel:function(){this.chooseList.map((function(t,e){return t.checked=!1,0==e&&(t.checked=!0),t}))},toAddress:function(){uni.navigateTo({url:"/pages/index/address/address?changeType=5&member="+this.member+"&tequan="+this.istequan})}}};e.default=c}}]);