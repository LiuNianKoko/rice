(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-set-otherPhone"],{3199:function(t,e,n){var i=n("4f32");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("7149caaa",i,!0,{sourceMap:!1,shadowMode:!1})},"4f32":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-button[data-v-1fccaab0]::after{border:none}.input-box[data-v-1fccaab0]{padding:%?60?%;font-size:%?30?%}.input-box .input-item[data-v-1fccaab0]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;border-bottom:%?1?% solid #eee;line-height:%?133?%;height:%?133?%}.input-box .input-item .input-label[data-v-1fccaab0]{width:%?150?%}.input-box .input-item .input-body[data-v-1fccaab0]{position:relative;height:%?133?%;width:calc(100% - %?150?%)}.input-box .input-item .input-body .input[data-v-1fccaab0]{line-height:%?133?%;height:%?133?%;position:relative;font-size:%?28?%}.input-box .input-item .input-body .eye[data-v-1fccaab0]{position:absolute;height:%?50?%;width:%?50?%;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.input-box .input-item .input-body .btn-code[data-v-1fccaab0]{position:absolute;right:%?0?%;top:50%;z-index:2;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#00a0e9;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;padding:0;line-height:%?60?%;width:%?160?%;height:%?60?%;border:%?2?% solid #00a0e9;-webkit-border-radius:%?6?%;border-radius:%?6?%}.button[data-v-1fccaab0]{line-height:%?100?%;font-size:%?40?%;width:%?630?%;height:%?100?%;color:#fff;margin-top:%?80?%;background:#00a0e9;-webkit-border-radius:%?10?%;border-radius:%?10?%}",""]),t.exports=e},5840:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("8cc3")),o=n("a67b"),s="",c="",d={data:function(){return{sendMsg1:"获取验证码",sendMsg2:"获取验证码",isCanSendCode1:!0,isCanSendCode2:!0,oldphone:"",newphone:"",oldcode:"",newcode:""}},onLoad:function(){this.oldphone=this.$util.getStorage("phone")},methods:{setCodeInterval1:function(){var t=this,e=60;clearInterval(s),s=setInterval((function(){e--,t.isCanSendCode1=!1,t.sendMsg1=e+"s",e<=0&&(t.isCanSendCode1=!0,t.sendMsg1="重新获取",clearInterval(s))}),1e3)},clearCodeInterval:function(){clearInterval(s),this.codemsg="获取验证码"},sendCode:function(){var t={phone:this.oldphone};(0,a.default)("/api/Login/send_code","post",t).then((function(t){"200"==t.data.status&&uni.showToast({title:t.data.message,icon:"none"}),"400"==t.data.status&&uni.showToast({title:t.data.message,icon:"none"}),console.log(t)})),(0,o.checkPhone)(this.oldphone)&&this.setCodeInterval1()},setCodeInterval2:function(){var t=this,e=60;clearInterval(c),c=setInterval((function(){e--,t.isCanSendCode2=!1,t.sendMsg2=e+"s",e<=0&&(t.isCanSendCode2=!0,t.sendMsg2="重新获取",clearInterval(c))}),1e3)},clearCodeInterval2:function(){clearInterval(c),this.codemsg="获取验证码"},sendCode2:function(){var t={phone:this.newphone};(0,a.default)("/api/Login/send_code","post",t).then((function(t){"200"==t.data.status&&uni.showToast({title:t.data.message,icon:"none"}),"400"==t.data.status&&uni.showToast({title:t.data.message,icon:"none"}),console.log(t)})),(0,o.checkPhone)(this.newphone)&&this.setCodeInterval2()},submit:function(){var t=this;if(""!=this.oldcode&&""!=this.newphone&&""!=this.newcode)if((0,o.checkPhone)(this.newphone))if(5==this.oldcode.length&&5==this.newcode.length){var e={token:uni.getStorageSync("token"),code:this.oldcode,replace_phone:this.newphone,replace_code:this.newcode};(0,a.default)("/api/user/replacePhone","post",e).then((function(e){console.log(e),"200"==e.data.status&&(t.$util.showToast(e.data.message),setTimeout((function(){uni.reLaunch({url:"/pages/index/logon/logon"})}),1e3)),"400"!=e.data.status||uni.showToast({title:e.data.message,icon:"none"})}))}else uni.showToast({title:"验证码错误",icon:"none"});else uni.showToast({title:"请输入正确手机号",icon:"none"});else uni.showToast({title:"不能为空",icon:"none"})}}};e.default=d},"8bf2":function(t,e,n){"use strict";n.r(e);var i=n("cd8c"),a=n("b327");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ec1b");var s,c=n("f0c5"),d=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"1fccaab0",null,!1,i["a"],s);e["default"]=d.exports},a67b:function(t,e,n){"use strict";function i(t){uni.showToast({icon:"none",title:t})}function a(t){var e=/^1\d{10}$/;return!!e.test(t)||(i("手机号格式错误"),!1)}function o(t){return t.length>=6||(i("密码必须大于6位"),!1)}function s(t){return 5==t.length||(i("验证码必须是5位数字"),!1)}function c(t){var e=/^\d{15}|\d{18}$/;return!!e.test(t)||(i("身份证必须是15或18位数字"),!1)}function d(t){var e=/^([1-9]{1})(\d{14}|\d{15}|\d{16}|\d{18})$/;return!!e.test(t)||(i("请输入正确的银行卡号"),!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.toast=i,e.checkPhone=a,e.checkPwd=o,e.checkCode=s,e.checkIdCard=c,e.checkBankCard=d},b327:function(t,e,n){"use strict";n.r(e);var i=n("5840"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},cd8c:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"input-box"},[n("v-uni-view",{staticClass:"input-item"},[n("v-uni-view",{staticClass:"input-label"},[t._v("+86")]),n("v-uni-view",{staticClass:"input-body"},[n("v-uni-input",{staticClass:"input",staticStyle:{"margin-right":"160upx"},attrs:{maxlength:"11",type:"number",disabled:!0,placeholder:"请输入旧手机号"},model:{value:t.oldphone,callback:function(e){t.oldphone=e},expression:"oldphone"}}),n("v-uni-button",{staticClass:"btn-code",attrs:{disabled:!t.isCanSendCode1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(t.sendMsg1))])],1)],1),n("v-uni-view",{staticClass:"input-item"},[n("v-uni-view",{staticClass:"input-label"},[t._v("验证码")]),n("v-uni-view",{staticClass:"input-body"},[n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入短信验证码",type:"number",maxlength:"6"},model:{value:t.oldcode,callback:function(e){t.oldcode=e},expression:"oldcode"}})],1)],1),n("v-uni-view",{staticClass:"input-item"},[n("v-uni-view",{staticClass:"input-label"},[t._v("+86")]),n("v-uni-view",{staticClass:"input-body"},[n("v-uni-input",{staticClass:"input",staticStyle:{"margin-right":"160upx"},attrs:{maxlength:"11",type:"number",placeholder:"请输入新手机号"},model:{value:t.newphone,callback:function(e){t.newphone=e},expression:"newphone"}}),n("v-uni-button",{staticClass:"btn-code",attrs:{disabled:!t.isCanSendCode2},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode2.apply(void 0,arguments)}}},[t._v(t._s(t.sendMsg2))])],1)],1),n("v-uni-view",{staticClass:"input-item"},[n("v-uni-view",{staticClass:"input-label"},[t._v("验证码")]),n("v-uni-view",{staticClass:"input-body"},[n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入短信验证码",type:"number",maxlength:"6"},model:{value:t.newcode,callback:function(e){t.newcode=e},expression:"newcode"}})],1)],1),n("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)},o=[]},ec1b:function(t,e,n){"use strict";var i=n("3199"),a=n.n(i);a.a}}]);