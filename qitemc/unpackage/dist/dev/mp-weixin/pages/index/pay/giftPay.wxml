<view class="pay-wraps"><view class="pay-main"><block wx:if="{{haveAddress}}"><view data-event-opts="{{[['tap',[['toAddress',['$event']]]]]}}" class="pay-location disFlex" bindtap="__e"><view class="location-img"><image src="/static/location.png"></image></view><view class="location-main"><view class="location-person">{{''+address.username+''}}<text class="location-phone">{{address.phone}}</text></view><view class="location-text">{{''+address.address+" "+address.detail_address+''}}</view></view><view class="location-edit"><image src="/static/to-right.png"></image></view></view></block><block wx:if="{{!haveAddress}}"><view data-event-opts="{{[['tap',[['toAddress',['$event']]]]]}}" class="pay-location disFlex" bindtap="__e"><view class="location-img"><image src="/static/location.png"></image></view><view class="location-main2">请选择地址</view><view class="location-edit"><image src="/static/to-right.png"></image></view></view></block><view class="pay-item"><view class="pay-title">订单信息</view><block wx:for="{{payList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="pay-text"><view class="text-img"><image src="{{item.cover}}"></image></view><view class="text-intr"><view class="intr-name line1">{{''+item.goods_name+''}}</view><block wx:if="{{item.norms_name}}"><view class="intr-norm"><view class="intr-norm1 line1">{{''+item.norms_name+''}}</view><view class="intr-norm2"></view></view></block></view><view class="text-price"><text class="symbol">￥</text>0<view class="text-num">{{'x'+item.number+''}}</view></view></view></block><view class="pay-fare pay-common"><view class="pay-left-common">运费</view><view class="pay-right-common">总计 ￥0</view></view><view class="pay-remarks pay-common"><view class="pay-left-common">备注</view><view class="pay-right-common"><input type="text" placeholder="选填，请先和商家协商一致" data-event-opts="{{[['input',[['__set_model',['','buycontent','$event',[]]]]]]}}" value="{{buycontent}}" bindinput="__e"/></view></view><view class="pay-subtotal"><text class="subtotal-num margingRight20">{{"共"+num+"件"}}</text><text>小计：</text><text class="subtotal-price"><text class="symbol">￥</text>0</text></view></view></view><view class="pay-footer"><view class="pay-text">实付金额：<text class="pay-price"><text class="symbol">￥</text>0</text></view><view data-event-opts="{{[['tap',[['giftpay',['$event']]]]]}}" class="pay-btn" bindtap="__e">支付订单</view></view><view class="blank"></view><q-s-popup class="vue-ref" vue-id="8c7b134a-1" type="fadeInUp" data-ref="QSPopupTicket" bind:__l="__l" vue-slots="{{['default']}}"><view class="ticket"><block wx:if="{{cashList.length>0}}"><view class="ticket-main"><view class="ticket-title">优惠券<image class="close-out" src="/static/out.png" data-event-opts="{{[['tap',[['hides',['QSPopupTicket']]]]]}}" bindtap="__e"></image></view><block wx:for="{{cashList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="ticket-item"><view class="ticket-space"><view class="ticket-price">￥<text>{{item.money}}</text>现金券</view><text class="ticket-intr">{{'订单金额满 '+item.at_least+" 可使用  \n  有效期"+item.start_time+" -- "+item.end_time+''}}</text></view><view class="ticket-select"><block wx:if="{{item.checked}}"><image class="select-img" src="{{selectImg}}" data-event-opts="{{[['tap',[['selectedCash',['$0',i],[[['cashList','',i]]]]]]]}}" bindtap="__e"></image></block><block wx:else><image class="select-img" src="{{unSelectImg}}" data-event-opts="{{[['tap',[['selectedCash',['$0',i],[[['cashList','',i]]]]]]]}}" bindtap="__e"></image></block></view></view></block></view></block><block wx:else><view class="nodata">暂无优惠券~</view></block><view data-event-opts="{{[['tap',[['hideCash',['$event']]]]]}}" class="sure-btn" bindtap="__e">确定</view></view></q-s-popup><q-s-popup class="vue-ref" vue-id="8c7b134a-2" type="fadeInUp" data-ref="QSPopupChoose" bind:__l="__l" vue-slots="{{['default']}}"><view class="choosepay"><view class="choose-title">支付订单<image src="/static/out.png" data-event-opts="{{[['tap',[['hides',['QSPopupChoose']]]]]}}" bindtap="__e"></image></view><view class="choose-price">￥<text>{{totalMoney}}</text></view><block wx:for="{{chooseList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="choose-item"><view class="choose-item-l"><image src="{{item.src}}"></image>{{''+item.name+''}}</view><view class="choose-item-r"><image class="select-img" src="{{item.checked?selectImg:unSelectImg}}" data-event-opts="{{[['tap',[['choose',['$0',index],[[['chooseList','',index]]]]]]]}}" bindtap="__e"></image></view></view></block><view class="choose-ye ">余额剩余<text class="choose-ye-price">￥<text>{{balances}}</text></text></view><view data-event-opts="{{[['tap',[['putorder',['$event']]]]]}}" class="sure-btn" bindtap="__e">确认支付</view></view></q-s-popup><q-s-popup class="vue-ref" vue-id="8c7b134a-3" data-ref="QSPopupSuccess" bind:__l="__l" vue-slots="{{['default']}}"><view class="success"><image src="/static/pay-success.png"></image>支付成功</view></q-s-popup><block wx:if="{{isPay}}"><keyboard-pay vue-id="8c7b134a-4" payMoney="{{totalMoney}}" payTitle="{{cashTitle}}" source="{{source}}" data-event-opts="{{[['^payCode',[['getPayCode']]],['^closeModal',[['closePayModal']]]]}}" bind:payCode="__e" bind:closeModal="__e" bind:__l="__l"></keyboard-pay></block></view>