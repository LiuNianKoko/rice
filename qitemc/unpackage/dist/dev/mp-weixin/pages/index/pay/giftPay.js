(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/pay/giftPay"],{

/***/ 100:
/*!***********************************************************************************************************!*\
  !*** C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=template&id=438dd740& ***!
  \***********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./giftPay.vue?vue&type=template&id=438dd740& */ 101);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 101:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=template&id=438dd740& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 102:
/*!*****************************************************************************************************!*\
  !*** C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./giftPay.vue?vue&type=script&lang=js& */ 103);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 103:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;























































































































































































var _http = _interopRequireDefault(__webpack_require__(/*! @/api/http.js */ 8));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var QSPopup = function QSPopup() {__webpack_require__.e(/*! require.ensure | components/QS-popup/QS-popup */ "components/QS-popup/QS-popup").then((function () {return resolve(__webpack_require__(/*! @/components/QS-popup/QS-popup.vue */ 656));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var KeyboardPay = function KeyboardPay() {__webpack_require__.e(/*! require.ensure | components/pwdpay */ "components/pwdpay").then((function () {return resolve(__webpack_require__(/*! @/components/pwdpay.vue */ 670));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default = { components: { KeyboardPay: KeyboardPay, QSPopup: QSPopup }, data: function data() {return { payType: 1, pointSelect: false, chooseList: [{ name: '微信支付', src: '/static/wx.png', type: 1 }, { name: '支付宝支付', src: '/static/zfb.png', type: 2 }, { name: '银联云闪付', src: '/static/ysf.png', type: 3 }, { name: '余额支付', src: '/static/ye.png', type: 4 }], selectImg: '/static/select.png', unSelectImg: '/static/unselect.png', payList: [], goodsId: 0, // 商品id
      normsId: 0, //规格id
      num: 0, // 购买数量
      totalMoney: 0, types: 0, // 1为正常下单 2为从购物车下单
      address: {}, addressId: 0, //地址id
      haveAddress: false, balances: 0, // 余额
      isSetPay: 0, // 0 未设置支付密码   1  设置了
      isPay: false, //键盘弹出层
      // tixMoney:'',
      cashTitle: '余额支付', source: '2', // 1 提现   2 余额支付
      couponId: 0, // 优惠券id
      cashList: [], // 优惠券
      cashMoney: 0, // 优惠券钱
      totalFreight: 0, //运费
      member: '', //是否会员商品
      istequan: '', tequan: 1, //是否特权商品 1普通		5特权    7会员  商品
      carType: 0, //购物车下单时区分  0普通  1会员
      buycontent: '' //备注
    };}, onLoad: function onLoad(option) {console.log(option);var orderdata = this.$util.getStorage('giftOrderdata');this.types = orderdata.type; // if(option.tequan=='tequan' && option.member=='member'){
    // 	this.istequan = option.tequan
    // 	this.tequan = 5
    // 	this.carType=1
    // }
    // if(option.member=='member'&& option.tequan==''){
    // 	this.member = option.member
    // 	this.tequan = 7
    // 	this.carType=1
    // }
    if (option.addressid) {this.addressId = option.addressid;}this.chooseSel();this.getPayList();this.getAddress();this.getCash();}, onShow: function onShow() {this.getAddress();this.getPayList();this.getCash();}, methods: { closePayModal: function closePayModal() {this.isPay = false;}, giftpay: function giftpay() {var _this = this;var shoplist = [];this.payList.forEach(function (item, index) {shoplist.push({ goods_id: item.id, attr_id: item.sku_id, number: 1, car_type: item.car_type });});if (!this.addressId) {this.$util.showToast('请选择地址!');return false;}var data = { token: uni.getStorageSync('token'), type: this.types, //	1为正常下单 2为从购物车下单 
        data: JSON.stringify(shoplist), // payment_type:payArr[this.payType-1],	//WeChat 微信 Alipay 支付宝 balance 余额 cloudFlash 云闪付
        address_id: this.addressId, // payment_password:code,		//余额支付 时候 支付密码
        order_type: 8, //订单类型 1普通 2团购 3预定 4秒杀 5会员商城/特权商品 6充值 7会员商品  8礼包商品
        // coupon_id:this.couponId,  //	优惠券 
        buycontent: this.buycontent };(0, _http.default)('/api/order/payGiftGoods', 'post', data).then(function (res) {if (res.data.status == '200') {_this.show('QSPopupSuccess');setTimeout(function () {uni.switchTab({ url: '/pages/mine/mine' });}, 1500);} else {_this.$util.showToast(res.data.msg);return;}});}, useCard: function useCard() {if (this.member == 'member') {this.$util.showToast('会员商品不支持使用优惠券');return;}if (this.member == '') {this.show('QSPopupTicket');}}, getCash: function getCash() {var _this2 = this; //优惠券
      var data = { token: uni.getStorageSync('token') };(0, _http.default)('/api/User/getCouponList', 'get', data).then(function (res) {if (res.data.status == '200') {_this2.cashList = res.data.data.couponList;} else {_this2.$util.showToast(res.data.message);return;}console.log(res);});}, hideCash: function hideCash() {this.hides('QSPopupTicket');}, selectedCash: function selectedCash(item, i) {//优惠券
      var that = this;var cartList = that.cashList.map(function (items, index) {items.checked = false;if (i == index) {that.couponId = items.coupon_id;that.cashMoney = parseFloat(items.money);items.checked = true;}return items;});that.cashList = cartList;that.getPayList();}, getPayCode: function getPayCode(code) {var _this3 = this; // 余额支付
      var shoplist = [];this.payList.forEach(function (item, index) {shoplist.push({ goods_id: item.id, attr_id: item.sku_id, number: item.number, car_type: item.car_type });});var payArr = ['WeChat', 'Alipay', 'cloudFlash', 'balance'];if (!this.addressId) {this.$util.showToast('请选择地址!');return false;}console.log(this.couponId);var data = { token: uni.getStorageSync('token'), type: this.types, //	1为正常下单 2为从购物车下单 
        data: JSON.stringify(shoplist), payment_type: payArr[this.payType - 1], //WeChat 微信 Alipay 支付宝 balance 余额 cloudFlash 云闪付
        address_id: this.addressId, payment_password: code, //余额支付 时候 支付密码
        order_type: this.tequan, //订单类型 1普通 2团购 3预定 4秒杀 5会员商城/特权商品 6充值 7会员商品
        coupon_id: this.couponId, //	优惠券 
        buycontent: this.buycontent };(0, _http.default)('/api/Order/place_order', 'post', data).then(function (res) {if (res.data.status == '200') {_this3.closePayModal();_this3.show('QSPopupSuccess');setTimeout(function () {uni.switchTab({ url: '/pages/mine/mine' });}, 1500);} else {_this3.$util.showToast(res.data.msg);_this3.closePayModal();}console.log(res);});}, putorder: function putorder() {var _this4 = this; //生成普通订单
      var that = this;var shoplist = [];that.payList.forEach(function (item, index) {shoplist.push({ goods_id: item.id, attr_id: item.sku_id, number: item.number, car_type: item.car_type });});var payArr = ['WeChat', 'Alipay', 'cloudFlash', 'balance'];if (!this.addressId) {this.$util.showToast('请选择地址!');return false;}console.log(payArr[this.payType - 1]);

      if (this.payType == 1 || this.payType == 2) {
        var data = {
          token: uni.getStorageSync('token'),
          type: this.types, //	1为正常下单 2为从购物车下单 
          data: JSON.stringify(shoplist),
          payment_type: payArr[this.payType - 1], //WeChat 微信 Alipay 支付宝 balance 余额 cloudFlash 云闪付
          address_id: this.addressId,
          // payment_password:this.payPassword,		//余额支付 时候 支付密码
          order_type: this.tequan, //订单类型 1普通 2团购 3预定 4秒杀 5会员商城
          coupon_id: this.couponId, //	优惠券id
          buycontent: this.buycontent };

        (0, _http.default)('/api/Order/place_order', 'post', data).then(function (res) {
          if (res.data.status == '200') {
            _this4.jumpPay(res.data.data.payment);
            _this4.$util.showLoading('加载中');
          } else {
            _this4.$util.showToast(res.data.msg);
            return;
          }
          console.log(res);
        });
      } else if (this.payType == 3) {
        this.$util.showToast('暂未开通此支付方式');
        return;
      } else if (this.payType == 4) {
        if (this.isSetPay == 0) {
          this.$util.showToast('请先设置支付密码');
          return;
        } else if (this.isSetPay == 1) {
          this.hides('QSPopupChoose');
          this.isPay = true;

        }
      }

    },

    jumpPay: function jumpPay(resdata) {var _this5 = this; // 微信  支付宝支付
      console.log(resdata);
      if (this.payType == 1) {
        console.log(1);
        uni.requestPayment({
          provider: 'wxpay',
          orderInfo: {
            "appid": resdata.appid,
            "noncestr": resdata.nonce_str,
            "package": resdata.package,
            "partnerid": resdata.partnerid,
            "prepayid": resdata.prepay_id,
            "timestamp": parseInt(resdata.time),
            "sign": resdata.sign },

          "appid": resdata.appid,
          "noncestr": resdata.nonce_str,
          "package": resdata.package,
          "partnerid": resdata.partnerid,
          "prepayid": resdata.prepay_id,
          "timestamp": parseInt(resdata.time),
          "sign": resdata.sign,
          success: function success(res) {
            _this5.$util.hideLoading();
            _this5.show('QSPopupSuccess');
            _this5.hides('QSPopupChoose');
            setTimeout(function () {
              uni.switchTab({
                url: '/pages/mine/mine' });

            }, 1500);

          },
          fail: function fail(res) {
            console.log(111);
            console.log(res);
            _this5.$util.hideLoading();
            _this5.$util.showToast('支付失败!');
          },
          complete: function complete() {

          } });

      } else if (this.payType == 2) {
        console.log(resdata);
        uni.requestPayment({
          provider: 'alipay',
          orderInfo: resdata,
          success: function success(res) {
            _this5.$util.hideLoading();
            _this5.$util.showToast('支付成功!');
            _this5.show('QSPopupSuccess');
            _this5.hides('QSPopupChoose');
            setTimeout(function () {
              uni.switchTab({
                url: '/pages/mine/mine' });

            }, 1500);
          },
          fail: function fail(res) {
            console.log(res);
            _this5.$util.hideLoading();
            _this5.$util.showToast('支付失败!');
          },
          complete: function complete() {
          } });

      }

    },
    getAddress: function getAddress() {var _this6 = this; // 获取地址
      var data = {
        token: uni.getStorageSync('token'),
        address_id: this.addressId };

      (0, _http.default)('/api/user/getUserAddress', 'post', data).then(function (res) {
        if (res.data.status == '200') {
          _this6.address = res.data.data.address;
          _this6.addressId = res.data.data.address.id;
          _this6.balances = res.data.data.user.balance;
          _this6.isSetPay = res.data.data.user.is_payment_pass;

        }
        if (_this6.address == null) {
          _this6.haveAddress = false;
        } else {
          _this6.haveAddress = true;
        }
        console.log(res);
      });
    },
    show: function show(ref) {
      this.$refs[ref].show();
    },
    hides: function hides(ref) {
      this.$refs[ref].hide();
    },
    pointSelectTap: function pointSelectTap() {
      // this.pointSelect = !this.pointSelect
      this.pointSelect = false;
      this.$util.showToast('暂不支持使用积分');
      return;
    },
    getPayList: function getPayList() {
      var that = this;

      var data = that.$util.getStorage('giftOrderdata');
      console.log(that.$util.getStorage('giftOrderdata'));
      (0, _http.default)('/api/Order/create_order', 'post', data).then(function (res) {
        console.log(res);
        that.payList = res.data.data.goods;
        that.totalFreight = res.data.data.total_freight;
        that.totalMoney = 0;
        that.num = 0;
        var totalMoneys = 0;
        that.payList.forEach(function (item, index) {
          // parseFloat()  parseInt()
          totalMoneys += parseFloat(item.number) * (parseFloat(item.price) * 100) / 100;
          that.totalMoney = (totalMoneys + that.totalFreight - that.cashMoney).toFixed(2);
          that.num += parseInt(item.number);
          if (!item.car_type) {
            that.$set(item, 'car_type', that.carType);
          }
          // if(item.car_type==1 && that.istequan==''){
          // 	that.tequan=7
          // }

        });
      });

    },
    choose: function choose(type, indexs) {var _this7 = this; //选择支付方式
      var that = this;
      var cartList = that.chooseList.map(function (item, index) {
        item.checked = false;

        if (indexs == index) {
          _this7.payType = item.type;
          item.checked = true;
        }
        return item;
      });
      that.chooseList = cartList;

    },
    chooseSel: function chooseSel() {
      var cartList = this.chooseList.map(function (item, index) {
        item.checked = false;
        if (index == 0) {
          item.checked = true;
        }
        return item;
      });
    },
    toAddress: function toAddress() {
      uni.navigateTo({
        url: '/pages/index/address/address?changeType=5&member=' + this.member + '&tequan=' + this.istequan });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 104:
/*!**************************************************************************************************************!*\
  !*** C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=style&index=0&lang=less& ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./giftPay.vue?vue&type=style&index=0&lang=less& */ 105);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 105:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue?vue&type=style&index=0&lang=less& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ }),

/***/ 98:
/*!*************************************************************************************************!*\
  !*** C:/Users/cqkj/Desktop/3.23新包/riceProject/main.js?{"page":"pages%2Findex%2Fpay%2FgiftPay"} ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _giftPay = _interopRequireDefault(__webpack_require__(/*! ./pages/index/pay/giftPay.vue */ 99));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_giftPay.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 99:
/*!****************************************************************************!*\
  !*** C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./giftPay.vue?vue&type=template&id=438dd740& */ 100);
/* harmony import */ var _giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./giftPay.vue?vue&type=script&lang=js& */ 102);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _giftPay_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./giftPay.vue?vue&type=style&index=0&lang=less& */ 104);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 11);

var renderjs





/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _giftPay_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["render"],
  _giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _giftPay_vue_vue_type_template_id_438dd740___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/index/pay/giftPay.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ })

},[[98,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/index/pay/giftPay.js.map