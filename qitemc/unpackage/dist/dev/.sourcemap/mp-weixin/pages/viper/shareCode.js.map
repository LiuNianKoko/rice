{"version":3,"sources":["webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/main.js","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?cb53","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?eaa6","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?d1f0","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?4b30","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?11e6","webpack:///C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue?de21"],"names":["createPage","Page","app","getApp","data","imag","globalData","codeImg","bgImg","windowWidth","windowHeight","base64","poster","qrShow","canvasId","hids","downloadPic","components","QSPopup","onLoad","getCode","onShareAppMessage","option","that","title","path","imageUrl","methods","back","uni","navigateBack","delta","show","ref","$refs","hides","hide","token","getStorageSync","then","res","status","qrcode","share","console","log","showHids","hidsctx","shareF","codeimg","setTimeout","ctx","createCanvasContext","beginPath","drawImage","rotate","Math","PI","closePath","draw","$util","showLoading","canvasToTempFilePath","x","y","width","height","fileType","quality","success","tempFilePath","hideLoading","errMsg","downs","fail","err","saveImageToPhotosAlbum","filePath","showToast","icon","shareFc","finalPath","type","backgroundImage","posterCanvasId","qrCodeArray","bgObj","bgScale","text","size","dx","dy","imagesArray","url","dWidth","dHeight","textArray","fontSize","lineHeight","setCanvasWH","d","JSON","stringify","saveImage","rej","hideQr"],"mappings":"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","file":"pages/viper/shareCode.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/viper/shareCode.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shareCode.vue?vue&type=template&id=2611e2d3&\"\nvar renderjs\nimport script from \"./shareCode.vue?vue&type=script&lang=js&\"\nexport * from \"./shareCode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shareCode.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/cqkj/Desktop/3.23新包/riceProject/pages/viper/shareCode.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shareCode.vue?vue&type=template&id=2611e2d3&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shareCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shareCode.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '@/api/http.js'\nimport QSPopup from '@/components/QS-popup/QS-popup.vue';\nimport getSharePoster from '@/components/QS-SharePoster/QS-SharePoster.js'\nconst app = getApp();\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\timag: app.globalData.imag,\n\t\t\tcodeImg:'',\n\t\t\tbgImg:'',\n\t\t\twindowWidth:0,\n\t\t\twindowHeight:0,\n\t\t\tbase64:null,\n\t\t\tposter: {},\n\t\t\tqrShow: false,\n\t\t\tcanvasId: 'default_PosterCanvasId',\n\t\t\thids:false,\n\t\t\tdownloadPic:''\n\t\t}\n\t},\n\tcomponents: {QSPopup},\n\tonLoad() {\n\t\tthis.getCode();\n\t\t\n\t},\n\t\n\tonShareAppMessage(option) {\n\t\tlet that = this\n\t\t return {\n\t\t      title: '扫一扫注册',\n\t\t      path: '/pages/index/index',\n\t\t\t  imageUrl:that.codeImg\n\t\t    }\n\t},\n\tmethods:{\n\t\t\n\t\tback(){\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta:1\n\t\t\t})\n\t\t},\n\t\tshow(ref) {\n\t\t\tthis.$refs[ref].show();\n\t\t},\n\t\thides(ref) {\n\t\t\tthis.$refs[ref].hide();\n\t\t},\n\t\t\n\t\tgetCode(){\n\t\t\tlet data = {\n\t\t\t\ttoken:uni.getStorageSync('token')\n\t\t\t}\n\t\t\thttp('/api/user/qrcode','post',data).then(res=>{\n\t\t\t\tif(res.data.status == '200'){\n\t\t\t\t\tthis.codeImg = res.data.data.qrcode\n\t\t\t\t\tthis.bgImg = res.data.data.share\n\t\t\t\t}\n\t\t\t\t// else{-\n\t\t\t\t// \tthis.$util.showToast('网络异常，请重试!');\n\t\t\t\t// }\n\t\t\t\tconsole.log(res)\n\t\t\t})\n\t\t},\n\t\tshowHids(){\n\t\t\tthis.hids = true\n\t\t},\n\t\thidsctx(){\n\t\t\tthis.hids = false\n\t\t},\n\t\tshareF(){\n\t\t\tlet that = this\n\t\t\tthat.hids = true\n\t\t\tlet codeimg = ''\n\t\t\tif(this.codeImg){\n\t\t\t\tcodeimg = this.codeImg\n\t\t\t}else{\n\t\t\t\tcodeimg = that.imag+'twocode-bg.jpg'\n\t\t\t}\n\t\t\tsetTimeout(()=>{\n\t\t\t\tvar ctx = uni.createCanvasContext('firstCanvas')\n\t\t\t\t// 背景\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.drawImage(that.imag+'15.jpg',0,0,270,400)\n\t\t\t\tctx.rotate(73 * Math.PI / 180)\n\t\t\t\tctx.drawImage(codeimg,214,-115,110,110)\n\t\t\t\tctx.closePath()\n\t\t\t\tctx.draw(false, ()=>{\n\t\t\t\t     that.$util.showLoading('请稍后，正在生成...');\n\t\t\t\t     setTimeout(function(){\n\t\t\t\t      uni.canvasToTempFilePath({\n\t\t\t\t       x:0,\n\t\t\t\t       y:0,\n\t\t\t\t       width:270,\n\t\t\t\t       height:400,\n\t\t\t\t       fileType:'png',\n\t\t\t\t       quality:1,\n\t\t\t\t       canvasId: 'firstCanvas',\n\t\t\t\t       success: (res) => {\n\t\t\t\t        console.log('1212',res);\n\t\t\t\t        that.downloadPic = res.tempFilePath;\n\t\t\t\t        // uni.hideLoading();\n\t\t\t\t\t\tthat.$util.hideLoading()\n\t\t\t\t        if (res.errMsg == \"canvasToTempFilePath:ok\") {\n\t\t\t\t         that.downs();\n\t\t\t\t        }\n\t\t\t\t       },\n\t\t\t\t       fail(err) {\n\t\t\t\t        console.log(err);\n\t\t\t\t       }\n\t\t\t\t      })\n\t\t\t\t     },500)\n\t\t\t\t    })\n\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tdowns(){\n\t\t    let that = this;\n\t\t\tconsole.log(that.downloadPic)\n\t\t    uni.saveImageToPhotosAlbum({\n\t\t     filePath: that.downloadPic,\n\t\t     success: function(errMsg){\n\t\t\t\t\n\t\t      // this.$toast(\"保存成功\");\n\t\t      console.log('3443',errMsg);\n\t\t      uni.showToast({\n\t\t       title:'保存成功'\n\t\t      })\n\t\t\t  setTimeout(()=>{\n\t\t\t\tthat.hids = false  \n\t\t\t  },1000)\n\t\t     },\n\t\t     fail: function(err){\n\t\t      uni.showToast({\n\t\t       title:'保存失败',\n\t\t       icon:'none'\n\t\t      });\n\t\t      console.log(err);\n\t\t     }\n\t\t    })\n\t\t   },\n\t\tasync shareFc() {\n\t\t\tlet that = this\n\t\t\ttry {\n\t\t\t\tif (!that.poster.finalPath) {\n\t\t\t\t\tconst d = await getSharePoster({\n\t\t\t\t\t\ttype: 'testShareType',\n\t\t\t\t\t\t// background:{\n\t\t\t\t\t\t// \twidth:750,\n\t\t\t\t\t\t// \theight:1200,\n\t\t\t\t\t\t// \tbackgroundColor:white\n\t\t\t\t\t\t// },\n\t\t\t\t\t\tbackgroundImage:that.bgImg,\n\t\t\t\t\t\tposterCanvasId: that.canvasId,\n\t\t\t\t\t\tqrCodeArray: ({bgObj, type, bgScale}) => {\n\t\t\t\t\t\t\treturn [{\n\t\t\t\t\t\t\t\ttext: '',\n\t\t\t\t\t\t\t\tsize: bgObj.width*0.01,\n\t\t\t\t\t\t\t\tdx: bgObj.width*0.1 - 999,\n\t\t\t\t\t\t\t\tdy: bgObj.height - bgObj.width*0.1\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t},\n\t\t\t\t\t\timagesArray: ({bgObj, type, bgScale}) => { //接收的第一个参数为背景图片的信息, 第二个参数是自定义标识（感觉这里用不到）, 图片为示例图片\n\t\t\t\t\t\t\tconst dx = bgObj.width*0.3; \n\t\t\t\t\t\t\treturn [{\n\t\t\t\t\t\t\t\turl: that.codeImg,\n\t\t\t\t\t\t\t\tdx,\n\t\t\t\t\t\t\t\tdy: bgObj.height - bgObj.width*0.9,\n\t\t\t\t\t\t\t\tdWidth:240,\n\t\t\t\t\t\t\t\tdHeight:240,\n\t\t\t\t\t\t\t\t// dy: bgObj.height * 0.5,\n\t\t\t\t\t\t\t\t// infoCallBack(imageInfo) {\n\t\t\t\t\t\t\t\t// \tlet scale = bgObj.width*0.2 / imageInfo.height;\n\t\t\t\t\t\t\t\t// \treturn {\n\t\t\t\t\t\t\t\t// \t\tdWidth: bgObj.width*0.4,\t\n\t\t\t\t\t\t\t\t// \t\tdHeight: bgObj.width*0.4,\n\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttextArray: ({bgObj, type, bgScale}) => {\n\t\t\t\t\t\t\tconst fontSize = bgObj.width*0.08;\n\t\t\t\t\t\t\tconst lineHeight = bgObj.height*0.04;\n\t\t\t\t\t\t\treturn [{\n\t\t\t\t\t\t\t\t// fontStyle: 'italic',\n\t\t\t\t\t\t\t\t// text: '扫一扫注册',\n\t\t\t\t\t\t\t\t// size: fontSize,\n\t\t\t\t\t\t\t\t// color: 'white',\n\t\t\t\t\t\t\t\t// alpha: .5,\n\t\t\t\t\t\t\t\t// textAlign: 'center',\n\t\t\t\t\t\t\t\t// textBaseline: 'middle',\n\t\t\t\t\t\t\t\t// infoCallBack(textLength) {\n\t\t\t\t\t\t\t\t// \t_app.log('index页面的text的infocallback ，textlength:' + textLength);\n\t\t\t\t\t\t\t\t// \treturn {\n\t\t\t\t\t\t\t\t// \t\tdx: bgObj.width - textLength - fontSize,\n\t\t\t\t\t\t\t\t// \t\tdy: bgObj.height - lineHeight*3\n\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetCanvasWH: ({bgObj, type, bgScale}) => { // 为动态设置画布宽高的方法，\n\t\t\t\t\t\t\tconsole.log(bgObj, type, bgScale)\n\t\t\t\t\t\t\tthat.poster = bgObj ;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// setDraw: ({Context, bgObj, type, bgScale}) => {\n\t\t\t\t\t\t// \tContext.setFillStyle('black');\n\t\t\t\t\t\t// \tContext.setGlobalAlpha(0.3);\n\t\t\t\t\t\t// \tContext.fillRect(0, bgObj.height - bgObj.height*0.2, bgObj.width, bgObj.height*0.2);\n\t\t\t\t\t\t// }\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log('海报生成成功， 临时路径: ' + d.poster.tempFilePath)\n\t\t\t\t\tthat.poster.finalPath = d.poster.tempFilePath;\n\t\t\t\t}\n\t\t\t\tthat.qrShow = true;\n\t\t\t} catch (e) {\n\t\t\t\t\n\t\t\t\tthat.$util.hideLoading();\n\t\t\t\tthat.$util.showToast(JSON.stringify(e));\n\t\t\t\tconsole.log(JSON.stringify(e));\n\t\t\t}\n\t\t},\n\t\tsaveImage() {\n\t\t\tlet that = this\n\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: that.poster.finalPath,\n\t\t\t\t// filePath: that.base64,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.$util.showToast('保存成功');\n\t\t\t\t\tthat.qrShow = false;\n\t\t\t\t},\n\t\t\t\tfail(rej) {\n\t\t\t\t\tthat.$util.showToast('保存失败');\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t//\n\n\n\t\t},\n\t\t\n\t\thideQr() {\n\t\t\tthis.qrShow = false;\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shareCode.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shareCode.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590478286146\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}